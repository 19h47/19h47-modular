"use strict";function e(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),r.default=e,Object.freeze(r)}function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function t(e,r,t,n,i,o,a){try{var u=e[o](a),s=u.value}catch(e){return void t(e)}u.done?r(s):Promise.resolve(s).then(n,i)}function n(e){return function(){var r=this,n=arguments;return new Promise((function(i,o){var a=e.apply(r,n);function u(e){t(a,i,o,u,s,"next",e)}function s(e){t(a,i,o,u,s,"throw",e)}u(void 0)}))}}function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,r,t){return r&&o(e.prototype,r),t&&o(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==t)return;var n,i,o=[],a=!0,u=!1;try{for(t=t.call(e);!(a=(n=t.next()).done)&&(o.push(n.value),!r||o.length!==r);a=!0);}catch(e){u=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(u)throw i}}return o}(e,r)||l(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||l(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,r){if(e){if("string"==typeof e)return f(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,r):void 0}}function f(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}Object.defineProperty(exports,"__esModule",{value:!0});var h=function(e){var r,t=Object.prototype,n=t.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,r,t){return Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[r]}try{s({},"")}catch(e){s=function(e,r,t){return e[r]=t}}function c(e,r,t,n){var i=r&&r.prototype instanceof y?r:y,o=Object.create(i.prototype),a=new A(n||[]);return o._invoke=function(e,r,t){var n=f;return function(i,o){if(n===d)throw new Error("Generator is already running");if(n===p){if("throw"===i)throw o;return L()}for(t.method=i,t.arg=o;;){var a=t.delegate;if(a){var u=k(a,t);if(u){if(u===v)continue;return u}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if(n===f)throw n=p,t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);n=d;var s=l(e,r,t);if("normal"===s.type){if(n=t.done?p:h,s.arg===v)continue;return{value:s.arg,done:t.done}}"throw"===s.type&&(n=p,t.method="throw",t.arg=s.arg)}}}(e,t,a),o}function l(e,r,t){try{return{type:"normal",arg:e.call(r,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var q={};s(q,o,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(S([])));x&&x!==t&&n.call(x,o)&&(q=x);var w=g.prototype=y.prototype=Object.create(q);function j(e){["next","throw","return"].forEach((function(r){s(e,r,(function(e){return this._invoke(r,e)}))}))}function E(e,r){function t(i,o,a,u){var s=l(e[i],e,o);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==typeof f&&n.call(f,"__await")?r.resolve(f.__await).then((function(e){t("next",e,a,u)}),(function(e){t("throw",e,a,u)})):r.resolve(f).then((function(e){c.value=e,a(c)}),(function(e){return t("throw",e,a,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function o(){return new r((function(r,i){t(e,n,r,i)}))}return i=i?i.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,k(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function O(e){var r={tryLoc:e[0]};1 in e&&(r.catchLoc=e[1]),2 in e&&(r.finallyLoc=e[2],r.afterLoc=e[3]),this.tryEntries.push(r)}function M(e){var r=e.completion||{};r.type="normal",delete r.arg,e.completion=r}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=r,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:r,done:!0}}return m.prototype=g,s(w,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===m||"GeneratorFunction"===(r.displayName||r.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},j(E.prototype),s(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(r,t,n,i,o){void 0===o&&(o=Promise);var a=new E(c(r,t,n,i),o);return e.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},j(w),s(w,u,"Generator"),s(w,o,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var r=[];for(var t in e)r.push(t);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(M),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return u.type="throw",u.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,r){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,r){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&r&&(this.next=r),v},finish:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),M(t),v}},catch:function(e){for(var r=this.tryEntries.length-1;r>=0;--r){var t=this.tryEntries[r];if(t.tryLoc===e){var n=t.completion;if("throw"===n.type){var i=n.arg;M(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),v}},e}("object"==typeof module?module.exports:{});try{regeneratorRuntime=h}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=h:Function("r","regeneratorRuntime = r")(h)}var d=require("../internals/export"),p=require("../internals/global"),v=require("../internals/is-array"),y=require("../internals/is-constructor"),m=require("../internals/is-object"),g=require("../internals/to-absolute-index"),q=require("../internals/length-of-array-like"),b=require("../internals/to-indexed-object"),x=require("../internals/create-property"),w=require("../internals/well-known-symbol"),j=require("../internals/array-method-has-species-support"),E=require("../internals/array-slice"),k=j("slice"),O=w("species"),M=p.Array,A=Math.max;d({target:"Array",proto:!0,forced:!k},{slice:function(e,r){var t,n,i,o=b(this),a=q(o),u=g(e,a),s=g(void 0===r?a:r,a);if(v(o)&&(t=o.constructor,(y(t)&&(t===M||v(t.prototype))||m(t)&&null===(t=t[O]))&&(t=void 0),t===M||void 0===t))return E(o,u,s);for(n=new(void 0===t?M:t)(A(s-u,0)),i=0;u<s;u++,i++)u in o&&x(n,i,o[u]);return n.length=i,n}});var S=require("../internals/export"),L=require("../internals/array-reduce").left,P=require("../internals/array-method-is-strict"),R=require("../internals/engine-v8-version"),T=require("../internals/engine-is-node");S({target:"Array",proto:!0,forced:!P("reduce")||!T&&R>79&&R<83},{reduce:function(e){var r=arguments.length;return L(this,e,r,r>1?arguments[1]:void 0)}});var I=require("../internals/to-string-tag-support"),_=require("../internals/redefine"),C=require("../internals/object-to-string");I||_(Object.prototype,"toString",C,{unsafe:!0});var N,F,G,U,W=require("../internals/export"),D=require("../internals/is-pure"),Y=require("../internals/global"),$=require("../internals/get-built-in"),z=require("../internals/function-call"),H=require("../internals/native-promise-constructor"),X=require("../internals/redefine"),B=require("../internals/redefine-all"),J=require("../internals/object-set-prototype-of"),K=require("../internals/set-to-string-tag"),Q=require("../internals/set-species"),V=require("../internals/a-callable"),Z=require("../internals/is-callable"),ee=require("../internals/is-object"),re=require("../internals/an-instance"),te=require("../internals/inspect-source"),ne=require("../internals/iterate"),ie=require("../internals/check-correctness-of-iteration"),oe=require("../internals/species-constructor"),ae=require("../internals/task").set,ue=require("../internals/microtask"),se=require("../internals/promise-resolve"),ce=require("../internals/host-report-errors"),le=require("../internals/new-promise-capability"),fe=require("../internals/perform"),he=require("../internals/queue"),de=require("../internals/internal-state"),pe=require("../internals/is-forced"),ve=require("../internals/well-known-symbol"),ye=require("../internals/engine-is-browser"),me=require("../internals/engine-is-node"),ge=require("../internals/engine-v8-version"),qe=ve("species"),be="Promise",xe=de.getterFor(be),we=de.set,je=de.getterFor(be),Ee=H&&H.prototype,ke=H,Oe=Ee,Me=Y.TypeError,Ae=Y.document,Se=Y.process,Le=le.f,Pe=Le,Re=!!(Ae&&Ae.createEvent&&Y.dispatchEvent),Te=Z(Y.PromiseRejectionEvent),Ie=!1,_e=pe(be,(function(){var e=te(ke),r=e!==String(ke);if(!r&&66===ge)return!0;if(D&&!Oe.finally)return!0;if(ge>=51&&/native code/.test(e))return!1;var t=new ke((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};return(t.constructor={})[qe]=n,!(Ie=t.then((function(){}))instanceof n)||!r&&ye&&!Te})),Ce=_e||!ie((function(e){ke.all(e).catch((function(){}))})),Ne=function(e){var r;return!(!ee(e)||!Z(r=e.then))&&r},Fe=function(e,r){var t,n,i,o=r.value,a=1==r.state,u=a?e.ok:e.fail,s=e.resolve,c=e.reject,l=e.domain;try{u?(a||(2===r.rejection&&Ye(r),r.rejection=1),!0===u?t=o:(l&&l.enter(),t=u(o),l&&(l.exit(),i=!0)),t===e.promise?c(Me("Promise-chain cycle")):(n=Ne(t))?z(n,t,s,c):s(t)):c(o)}catch(e){l&&!i&&l.exit(),c(e)}},Ge=function(e,r){e.notified||(e.notified=!0,ue((function(){for(var t,n=e.reactions;t=n.get();)Fe(t,e);e.notified=!1,r&&!e.rejection&&We(e)})))},Ue=function(e,r,t){var n,i;Re?((n=Ae.createEvent("Event")).promise=r,n.reason=t,n.initEvent(e,!1,!0),Y.dispatchEvent(n)):n={promise:r,reason:t},!Te&&(i=Y["on"+e])?i(n):"unhandledrejection"===e&&ce("Unhandled promise rejection",t)},We=function(e){z(ae,Y,(function(){var r,t=e.facade,n=e.value;if(De(e)&&(r=fe((function(){me?Se.emit("unhandledRejection",n,t):Ue("unhandledrejection",t,n)})),e.rejection=me||De(e)?2:1,r.error))throw r.value}))},De=function(e){return 1!==e.rejection&&!e.parent},Ye=function(e){z(ae,Y,(function(){var r=e.facade;me?Se.emit("rejectionHandled",r):Ue("rejectionhandled",r,e.value)}))},$e=function(e,r,t){return function(n){e(r,n,t)}},ze=function(e,r,t){e.done||(e.done=!0,t&&(e=t),e.value=r,e.state=2,Ge(e,!0))},He=function(e,r,t){if(!e.done){e.done=!0,t&&(e=t);try{if(e.facade===r)throw Me("Promise can't be resolved itself");var n=Ne(r);n?ue((function(){var t={done:!1};try{z(n,r,$e(He,t,e),$e(ze,t,e))}catch(r){ze(t,r,e)}})):(e.value=r,e.state=1,Ge(e,!1))}catch(r){ze({done:!1},r,e)}}};if(_e&&(Oe=(ke=function(e){re(this,Oe),V(e),z(N,this);var r=xe(this);try{e($e(He,r),$e(ze,r))}catch(e){ze(r,e)}}).prototype,(N=function(e){we(this,{type:be,done:!1,notified:!1,parent:!1,reactions:new he,rejection:!1,state:0,value:void 0})}).prototype=B(Oe,{then:function(e,r){var t=je(this),n=Le(oe(this,ke));return t.parent=!0,n.ok=!Z(e)||e,n.fail=Z(r)&&r,n.domain=me?Se.domain:void 0,0==t.state?t.reactions.add(n):ue((function(){Fe(n,t)})),n.promise},catch:function(e){return this.then(void 0,e)}}),F=function(){var e=new N,r=xe(e);this.promise=e,this.resolve=$e(He,r),this.reject=$e(ze,r)},le.f=Le=function(e){return e===ke||e===G?new F(e):Pe(e)},!D&&Z(H)&&Ee!==Object.prototype)){U=Ee.then,Ie||(X(Ee,"then",(function(e,r){var t=this;return new ke((function(e,r){z(U,t,e,r)})).then(e,r)}),{unsafe:!0}),X(Ee,"catch",Oe.catch,{unsafe:!0}));try{delete Ee.constructor}catch(e){}J&&J(Ee,Oe)}W({global:!0,wrap:!0,forced:_e},{Promise:ke}),K(ke,be,!1,!0),Q(be),G=$(be),W({target:be,stat:!0,forced:_e},{reject:function(e){var r=Le(this);return z(r.reject,void 0,e),r.promise}}),W({target:be,stat:!0,forced:D||_e},{resolve:function(e){return se(D&&this===G?ke:this,e)}}),W({target:be,stat:!0,forced:Ce},{all:function(e){var r=this,t=Le(r),n=t.resolve,i=t.reject,o=fe((function(){var t=V(r.resolve),o=[],a=0,u=1;ne(e,(function(e){var s=a++,c=!1;u++,z(t,r,e).then((function(e){c||(c=!0,o[s]=e,--u||n(o))}),i)})),--u||n(o)}));return o.error&&i(o.value),t.promise},race:function(e){var r=this,t=Le(r),n=t.reject,i=fe((function(){var i=V(r.resolve);ne(e,(function(e){z(i,r,e).then(t.resolve,n)}))}));return i.error&&n(i.value),t.promise}});var Xe=require("../internals/export"),Be=require("../internals/array-iteration").filter;Xe({target:"Array",proto:!0,forced:!require("../internals/array-method-has-species-support")("filter")},{filter:function(e){return Be(this,e,arguments.length>1?arguments[1]:void 0)}});var Je=require("../internals/export"),Ke=require("../internals/array-iteration").some;Je({target:"Array",proto:!0,forced:!require("../internals/array-method-is-strict")("some")},{some:function(e){return Ke(this,e,arguments.length>1?arguments[1]:void 0)}});var Qe,Ve=require("../internals/export"),Ze=require("../internals/function-uncurry-this"),er=require("../internals/object-get-own-property-descriptor").f,rr=require("../internals/to-length"),tr=require("../internals/to-string"),nr=require("../internals/not-a-regexp"),ir=require("../internals/require-object-coercible"),or=require("../internals/correct-is-regexp-logic"),ar=require("../internals/is-pure"),ur=Ze("".startsWith),sr=Ze("".slice),cr=Math.min,lr=or("startsWith");Ve({target:"String",proto:!0,forced:!!(ar||lr||(Qe=er(String.prototype,"startsWith"),!Qe||Qe.writable))&&!lr},{startsWith:function(e){var r=tr(ir(this));nr(e);var t=rr(cr(arguments.length>1?arguments[1]:void 0,r.length)),n=tr(e);return ur?ur(r,n,t):sr(r,t,t+n.length)===n}});var fr=require("../internals/descriptors"),hr=require("../internals/function-name").EXISTS,dr=require("../internals/function-uncurry-this"),pr=require("../internals/object-define-property").f,vr=Function.prototype,yr=dr(vr.toString),mr=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,gr=dr(mr.exec);fr&&!hr&&pr(vr,"name",{configurable:!0,get:function(){try{return gr(mr,yr(this))[1]}catch(e){return""}}});var qr=require("../internals/export"),br=require("../internals/global"),xr=require("../internals/to-absolute-index"),wr=require("../internals/to-integer-or-infinity"),jr=require("../internals/length-of-array-like"),Er=require("../internals/to-object"),kr=require("../internals/array-species-create"),Or=require("../internals/create-property"),Mr=require("../internals/array-method-has-species-support")("splice"),Ar=br.TypeError,Sr=Math.max,Lr=Math.min;qr({target:"Array",proto:!0,forced:!Mr},{splice:function(e,r){var t,n,i,o,a,u,s=Er(this),c=jr(s),l=xr(e,c),f=arguments.length;if(0===f?t=n=0:1===f?(t=0,n=c-l):(t=f-2,n=Lr(Sr(wr(r),0),c-l)),c+t-n>9007199254740991)throw Ar("Maximum allowed length exceeded");for(i=kr(s,n),o=0;o<n;o++)(a=l+o)in s&&Or(i,o,s[a]);if(i.length=n,t<n){for(o=l;o<c-n;o++)u=o+t,(a=o+n)in s?s[u]=s[a]:delete s[u];for(o=c;o>c-n+t;o--)delete s[o-1]}else if(t>n)for(o=c-n;o>l;o--)u=o+t-1,(a=o+n-1)in s?s[u]=s[a]:delete s[u];for(o=0;o<t;o++)s[o+l]=arguments[o+2];return s.length=c-n+t,i}});var Pr=require("../internals/export"),Rr=require("../internals/regexp-exec");Pr({target:"RegExp",proto:!0,forced:/./.exec!==Rr},{exec:Rr});var Tr=require("../internals/function-apply"),Ir=require("../internals/function-call"),_r=require("../internals/function-uncurry-this"),Cr=require("../internals/fix-regexp-well-known-symbol-logic"),Nr=require("../internals/is-regexp"),Fr=require("../internals/an-object"),Gr=require("../internals/require-object-coercible"),Ur=require("../internals/species-constructor"),Wr=require("../internals/advance-string-index"),Dr=require("../internals/to-length"),Yr=require("../internals/to-string"),$r=require("../internals/get-method"),zr=require("../internals/array-slice-simple"),Hr=require("../internals/regexp-exec-abstract"),Xr=require("../internals/regexp-exec"),Br=require("../internals/regexp-sticky-helpers"),Jr=require("../internals/fails"),Kr=Br.UNSUPPORTED_Y,Qr=Math.min,Vr=[].push,Zr=_r(/./.exec),et=_r(Vr),rt=_r("".slice);Cr("split",(function(e,r,t){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var n=Yr(Gr(this)),i=void 0===t?4294967295:t>>>0;if(0===i)return[];if(void 0===e)return[n];if(!Nr(e))return Ir(r,n,e,i);for(var o,a,u,s=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,c+"g");(o=Ir(Xr,f,n))&&!((a=f.lastIndex)>l&&(et(s,rt(n,l,o.index)),o.length>1&&o.index<n.length&&Tr(Vr,s,zr(o,1)),u=o[0].length,l=a,s.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===n.length?!u&&Zr(f,"")||et(s,""):et(s,rt(n,l)),s.length>i?zr(s,0,i):s}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:Ir(r,this,e,t)}:r,[function(r,t){var i=Gr(this),o=null==r?void 0:$r(r,e);return o?Ir(o,r,i,t):Ir(n,Yr(i),r,t)},function(e,i){var o=Fr(this),a=Yr(e),u=t(n,o,a,i,n!==r);if(u.done)return u.value;var s=Ur(o,RegExp),c=o.unicode,l=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(Kr?"g":"y"),f=new s(Kr?"^(?:"+o.source+")":o,l),h=void 0===i?4294967295:i>>>0;if(0===h)return[];if(0===a.length)return null===Hr(f,a)?[a]:[];for(var d=0,p=0,v=[];p<a.length;){f.lastIndex=Kr?0:p;var y,m=Hr(f,Kr?rt(a,p):a);if(null===m||(y=Qr(Dr(f.lastIndex+(Kr?p:0)),a.length))===d)p=Wr(a,p,c);else{if(et(v,rt(a,d,p)),v.length===h)return v;for(var g=1;g<=m.length-1;g++)if(et(v,m[g]),v.length===h)return v;p=d=y}}return et(v,rt(a,d)),v}]}),!!Jr((function(){var e=/(?:)/,r=e.exec;e.exec=function(){return r.apply(this,arguments)};var t="ab".split(e);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),Kr);var tt=require("../internals/export"),nt=require("../internals/function-uncurry-this"),it=require("../internals/indexed-object"),ot=require("../internals/to-indexed-object"),at=require("../internals/array-method-is-strict"),ut=nt([].join),st=it!=Object,ct=at("join",",");tt({target:"Array",proto:!0,forced:st||!ct},{join:function(e){return ut(ot(this),void 0===e?",":e)}});var lt=require("../internals/export"),ft=require("../internals/global"),ht=require("../internals/fails"),dt=require("../internals/is-array"),pt=require("../internals/is-object"),vt=require("../internals/to-object"),yt=require("../internals/length-of-array-like"),mt=require("../internals/create-property"),gt=require("../internals/array-species-create"),qt=require("../internals/array-method-has-species-support"),bt=require("../internals/well-known-symbol"),xt=require("../internals/engine-v8-version"),wt=bt("isConcatSpreadable"),jt=ft.TypeError,Et=xt>=51||!ht((function(){var e=[];return e[wt]=!1,e.concat()[0]!==e})),kt=qt("concat"),Ot=function(e){if(!pt(e))return!1;var r=e[wt];return void 0!==r?!!r:dt(e)};lt({target:"Array",proto:!0,forced:!Et||!kt},{concat:function(e){var r,t,n,i,o,a=vt(this),u=gt(a,0),s=0;for(r=-1,n=arguments.length;r<n;r++)if(Ot(o=-1===r?a:arguments[r])){if(s+(i=yt(o))>9007199254740991)throw jt("Maximum allowed index exceeded");for(t=0;t<i;t++,s++)t in o&&mt(u,s,o[t])}else{if(s>=9007199254740991)throw jt("Maximum allowed index exceeded");mt(u,s++,o)}return u.length=s,u}});var Mt=require("../internals/export"),At=require("../internals/array-for-each");Mt({target:"Array",proto:!0,forced:[].forEach!=At},{forEach:At});var St=require("../internals/global"),Lt=require("../internals/dom-iterables"),Pt=require("../internals/dom-token-list-prototype"),Rt=require("../internals/array-for-each"),Tt=require("../internals/create-non-enumerable-property"),It=function(e){if(e&&e.forEach!==Rt)try{Tt(e,"forEach",Rt)}catch(r){e.forEach=Rt}};for(var _t in Lt)Lt[_t]&&It(St[_t]&&St[_t].prototype);It(Pt);var Ct=require("../internals/export"),Nt=require("../internals/object-to-array").entries;Ct({target:"Object",stat:!0},{entries:function(e){return Nt(e)}});var Ft=require("../internals/export"),Gt=require("../internals/object-assign");Ft({target:"Object",stat:!0,forced:Object.assign!==Gt},{assign:Gt});var Ut=require("../internals/export"),Wt=require("../internals/array-from");Ut({target:"Array",stat:!0,forced:!require("../internals/check-correctness-of-iteration")((function(e){Array.from(e)}))},{from:Wt});var Dt=require("../internals/string-multibyte").charAt,Yt=require("../internals/to-string"),$t=require("../internals/internal-state"),zt=require("../internals/define-iterator"),Ht=$t.set,Xt=$t.getterFor("String Iterator");zt(String,"String",(function(e){Ht(this,{type:"String Iterator",string:Yt(e),index:0})}),(function(){var e,r=Xt(this),t=r.string,n=r.index;return n>=t.length?{value:void 0,done:!0}:(e=Dt(t,n),r.index+=e.length,{value:e,done:!1})}));var Bt=require("../internals/export"),Jt=require("../internals/function-bind");Bt({target:"Function",proto:!0,forced:Function.bind!==Jt},{bind:Jt});var Kt=require("../internals/export"),Qt=require("../internals/to-object"),Vt=require("../internals/object-keys");Kt({target:"Object",stat:!0,forced:require("../internals/fails")((function(){Vt(1)}))},{keys:function(e){return Vt(Qt(e))}});var Zt=require("../internals/export"),en=require("../internals/array-includes").includes,rn=require("../internals/add-to-unscopables");Zt({target:"Array",proto:!0},{includes:function(e){return en(this,e,arguments.length>1?arguments[1]:void 0)}}),rn("includes");var tn=require("../internals/export"),nn=require("../internals/function-uncurry-this"),on=require("../internals/not-a-regexp"),an=require("../internals/require-object-coercible"),un=require("../internals/to-string"),sn=require("../internals/correct-is-regexp-logic"),cn=nn("".indexOf);tn({target:"String",proto:!0,forced:!sn("includes")},{includes:function(e){return!!~cn(un(an(this)),un(on(e)),arguments.length>1?arguments[1]:void 0)}});var ln=require("../internals/export"),fn=require("../internals/descriptors"),hn=require("../internals/object-define-property").f;ln({target:"Object",stat:!0,forced:Object.defineProperty!==hn,sham:!fn},{defineProperty:hn});var dn=require("../internals/export"),pn=require("../internals/function-uncurry-this"),vn=require("../internals/array-includes").indexOf,yn=require("../internals/array-method-is-strict"),mn=pn([].indexOf),gn=!!mn&&1/mn([1],1,-0)<0,qn=yn("indexOf");dn({target:"Array",proto:!0,forced:gn||!qn},{indexOf:function(e){var r=arguments.length>1?arguments[1]:void 0;return gn?mn(this,e,r)||0:vn(this,e,r)}});var bn=function(){function e(r){i(this,e),this.mAttr="data-"+r.dataName,this.mCaptureEvents=["mouseenter","mouseleave"],this.el=r.el}return a(e,[{key:"mInit",value:function(e){var r=this;this.modules=e,this.mCheckEventTarget=this.mCheckEventTarget.bind(this),this.events&&Object.keys(this.events).forEach((function(e){return r.mAddEvent(e)}))}},{key:"mUpdate",value:function(e){this.modules=e}},{key:"mDestroy",value:function(){var e=this;this.events&&Object.keys(this.events).forEach((function(r){return e.mRemoveEvent(r)}))}},{key:"mAddEvent",value:function(e){var r=!!this.mCaptureEvents.includes(e);this.el.addEventListener(e,this.mCheckEventTarget,r)}},{key:"mRemoveEvent",value:function(e){var r=!!this.mCaptureEvents.includes(e);this.el.removeEventListener(e,this.mCheckEventTarget,r)}},{key:"mCheckEventTarget",value:function(e){var r=this.events[e.type];if("string"==typeof r)this[r](e);else{var t="["+this.mAttr+"]",n=e.target;if(this.mCaptureEvents.includes(e.type))n.matches(t)&&this.mCallEventMethod(e,r,n);else for(;n&&n!==document&&(!n.matches(t)||"undefined"==this.mCallEventMethod(e,r,n));)n=n.parentNode}}},{key:"mCallEventMethod",value:function(e,r,t){var n=t.getAttribute(this.mAttr);if(r.hasOwnProperty(n)){var i=r[n];e.hasOwnProperty("currentTarget")||Object.defineProperty(e,"currentTarget",{value:t}),e.hasOwnProperty("curTarget")||Object.defineProperty(e,"curTarget",{value:t}),this[i](e)}}},{key:"$",value:function(e,t){var n=[e.indexOf("."),e.indexOf("#"),e.indexOf("[")].filter((function(e){return-1!=e})),i=!1,o=e,a="",u=this.el;return n.length&&(i=Math.min.apply(Math,c(n)),o=e.slice(0,i),a=e.slice(i)),"object"==r(t)&&(u=t),u.querySelectorAll("["+this.mAttr+"="+o+"]"+a)}},{key:"parent",value:function(e,r){for(var t="["+this.mAttr+"="+e+"]",n=r.parentNode;n&&n!==document;){if(n.matches(t))return n;n=n.parentNode}}},{key:"getData",value:function(e,r){return(r||this.el).getAttribute(this.mAttr+"-"+e)}},{key:"setData",value:function(e,r,t){return(t||this.el).setAttribute(this.mAttr+"-"+e,r)}},{key:"call",value:function(e,r,t,n){var i=this;r&&!t&&(t=r,r=!1),this.modules[t]&&(n?this.modules[t][n]&&this.modules[t][n][e](r):Object.keys(this.modules[t]).forEach((function(n){i.modules[t][n][e](r)})))}},{key:"on",value:function(e,r,t,n){var i=this;this.modules[r]&&(n?this.modules[r][n].el.addEventListener(e,(function(e){return t(e)})):Object.keys(this.modules[r]).forEach((function(n){i.modules[r][n].el.addEventListener(e,(function(e){return t(e)}))})))}},{key:"init",value:function(){}},{key:"destroy",value:function(){}}]),e}(),xn=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},wn=function(e){return e.reduce((function(e,r){return e+xn(r)}))},jn=function(){var r=n(regeneratorRuntime.mark((function r(t){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(r){return Promise.resolve().then((function(){return e(require(r))}))}("@/scripts/modules/".concat(t));case 2:return n=r.sent,r.abrupt("return",n.default);case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),En=function(e){e.mDestroy(),e.destroy()},kn=function(){var e=n(regeneratorRuntime.mark((function e(r,t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<r.length)){e.next=7;break}return e.next=4,t(r[n],n,r);case 4:n+=1,e.next=1;break;case 7:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),On=function(){function e(r){i(this,e),this.app,this.modules=r.modules||[],this.currentModules={},this.activeModules={},this.newModules={},this.moduleId=0}var r,t,o;return a(e,[{key:"init",value:(o=n(regeneratorRuntime.mark((function e(r,t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.collectModules(r,t);case 2:this.initModules(t);case 3:case"end":return e.stop()}}),e,this)}))),function(e,r){return o.apply(this,arguments)})},{key:"collectModules",value:(t=n(regeneratorRuntime.mark((function e(r,t){var i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t||document,o=c(i.querySelectorAll("*")).filter((function(e){return c(e.attributes).some((function(e){return e.name.startsWith("data-module")}))})),r&&!this.app&&(this.app=r),this.activeModules.app={app:this.app},e.next=6,kn(o,function(){var e=n(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kn(c(r.attributes),function(){var e=n(regeneratorRuntime.mark((function e(n){var i,o,u,s,c,l,f,h,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name,o=n.value,!i.startsWith("data-module")){e.next=15;break}if(u=i.split("-").splice(2),s=!1,c=xn(wn(u)),!a.modules[c]){e.next=9;break}s=!0,e.next=14;break;case 9:return e.next=11,jn(c);case 11:l=e.sent,a.modules[c]=l,s=!0;case 14:s&&(f={el:r,name:c,dataName:u.join("-")},h=new a.modules[c](f),(d=o)||(a.moduleId+=1,d="m".concat(a.moduleId),r.setAttribute(i,d)),a.addActiveModule(c,d,h),p="".concat(c,"-").concat(d),t?a.newModules[p]=h:a.currentModules[p]=h);case 15:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})},{key:"initModules",value:function(e){var r=this;Object.entries(this.currentModules).forEach((function(t){var n=s(t,2),i=n[0],o=n[1];if(e){var a=i.split("-"),u=a.shift(),c=a.pop();r.addActiveModule(u,c,o)}else r.initModule(o)}))}},{key:"initModule",value:function(e){e.mInit(this.activeModules),e.init()}},{key:"addActiveModule",value:function(e,r,t){this.activeModules[e]?Object.assign(this.activeModules[e],u({},r,t)):this.activeModules[e]=u({},r,t)}},{key:"update",value:(r=n(regeneratorRuntime.mark((function e(r){var t=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init(this.app,r);case 2:Object.entries(this.currentModules).forEach((function(e){var r=s(e,2);return r[0],r[1].mUpdate(t.activeModules)})),Object.entries(this.newModules).forEach((function(e){var r=s(e,2);r[0];var n=r[1];return t.initModule(n)})),Object.assign(this.currentModules,this.newModules);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"destroy",value:function(e){e?this.destroyScope(e):this.destroyModules()}},{key:"destroyScope",value:function(e){var r=this;e.querySelectorAll("*").forEach((function(e){Array.from(e.attributes).forEach((function(e){if(e.name.startsWith("data-module")){var t=e.value,n=e.name.split("-").splice(2),i="".concat(wn(n),"-").concat(t),o=!1;r.currentModules[i]?o=!0:r.currentModules[xn(i)]&&(i=xn(i),o=!0),o&&(En(r.currentModules[i]),delete r.currentModules[i])}}))})),this.activeModules={},this.newModules={}}},{key:"destroyModules",value:function(){Object.entries(this.currentModules).forEach((function(e){var r=s(e,2);r[0];var t=r[1];return En(t)})),this.currentModules=[]}}]),e}();exports.default=On,exports.module=bn;
